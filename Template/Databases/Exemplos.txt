CREATE DATABASE "SACL"
  WITH ENCODING='UTF8'
       OWNER=postgres
       TEMPLATE=template0
       LC_COLLATE='Portuguese, Brazil'
       LC_CTYPE='C'
       CONNECTION LIMIT=-1
       TABLESPACE=pg_default;

CREATE TABLE aplicacoes
(
  id serial NOT NULL,
  empresa integer,
  aplicacao character varying(512),
  descricao character varying(512),
  contratante character varying(512),
  grupo character varying(512),
  analista character varying(512),
  soag character(1),
  glog character(1),
  delecaologica character(1),
  colunadelecaologica integer,
  confirmado character(1),
  usuarioconfirmacao integer,
  dataconfirmacao timestamp without time zone,
  CONSTRAINT aplicacoes_pkey PRIMARY KEY (id ),
  CONSTRAINT aplicacoes_empresa_fkey FOREIGN KEY (empresa)
      REFERENCES empresa (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE CASCADE
)
WITH (
  OIDS=FALSE
);
ALTER TABLE aplicacoes
  OWNER TO postgres;

-- Table: colunas

-- DROP TABLE colunas;

CREATE TABLE colunas
(
  id serial NOT NULL,
  codigoaplicacao integer,
  columnname character varying(512),
  codigodatatype integer,
  tamanhocoluna integer,
  decimais integer,
  attributename character varying(512),
  descricao text,
  confirmado character(1),
  usuarioconfirmacao integer,
  dataconfirmacao timestamp without time zone,
  CONSTRAINT colunas_pkey PRIMARY KEY (id ),
  CONSTRAINT colunas_codigoaplicacao_fkey FOREIGN KEY (codigoaplicacao)
      REFERENCES aplicacoes (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE CASCADE,
  CONSTRAINT colunas_codigodatatype_fkey FOREIGN KEY (codigodatatype)
      REFERENCES datatypes (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE CASCADE
)
WITH (
  OIDS=FALSE
);
ALTER TABLE colunas
  OWNER TO postgres;

